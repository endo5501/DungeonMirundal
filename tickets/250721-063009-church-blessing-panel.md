---
priority: 2
tags: ["feature", "ui", "church", "blessing", "buff"]
description: "教会の祝福パネルの実装"
created_at: "2025-07-21T06:30:09Z"
started_at: null  # Do not modify manually
closed_at: null   # Do not modify manually
---

# Ticket Overview

教会の祝福機能が未実装となっている。祝福は、パーティメンバーに一時的なバフ効果を付与する重要な機能である。この機能により、プレイヤーはダンジョン探索前に教会で祝福を受け、冒険を有利に進めることができるようになる。

## 背景
- 教会のサービスパネルに「祝福」ボタンは存在するが、機能が未実装
- 祝福はパーティ全体または個別のキャラクターに付与可能
- 祝福には寄付金が必要で、効果の種類・期間によって金額が変動
- Wizardryシリーズの伝統的な要素として重要

## Tasks

- [ ] 現在の教会UIとバフシステムの実装状況を調査
- [ ] 祝福種類の定義（攻撃力UP、防御力UP、幸運UP等）
- [ ] 祝福選択UIの設計と実装
- [ ] 祝福対象選択機能の実装（個人/パーティ全体）
- [ ] 祝福コスト計算ロジックの実装
- [ ] 祝福確認ダイアログの実装（効果説明と料金表示）
- [ ] 祝福効果の付与処理実装
- [ ] 祝福効果の期限管理システム
- [ ] 重複祝福の制御ロジック
- [ ] 所持金不足時のエラーハンドリング
- [ ] 祝福成功時のエフェクト/メッセージ表示
- [ ] 日本語テキストの実装と確認
- [ ] ユニットテストの作成
- [ ] 統合テストの実施
- [ ] Run tests before closing and pass all tests (No exceptions)
- [ ] Get developer approval before closing

## 受け入れ条件
- [ ] 利用可能な祝福の種類が一覧表示される
- [ ] 祝福の効果と持続時間が確認できる
- [ ] 祝福対象（個人/全体）を選択できる
- [ ] 祝福に必要な寄付金が事前に表示される
- [ ] 所持金が足りない場合は祝福を受けられない
- [ ] 祝福効果がキャラクターステータスに反映される
- [ ] 祝福の残り時間/歩数が確認できる
- [ ] すべてのテキストが日本語で表示される

## Notes

- 祝福の種類例：
  - 攻撃祝福：攻撃力+10%
  - 防御祝福：防御力+10%
  - 幸運祝福：アイテムドロップ率UP
  - 経験祝福：獲得経験値+20%
- 祝福効果はダンジョン内の歩数または実時間で管理
- 同じ種類の祝福は重複不可（上書き更新）
- 異なる種類の祝福は同時に複数付与可能
- 料金体系：基本料金×効果の強さ×対象人数
