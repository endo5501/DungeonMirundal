---
priority: 1
tags: ["feature", "ui", "dungeon", "critical", "gameplay"]
description: "ダンジョン内メニューシステムの実装"
created_at: "2025-07-22T13:24:56Z"
started_at: 2025-07-22T16:51:38Z # Do not modify manually
closed_at: null   # Do not modify manually
---

# Ticket Overview

ダンジョン内でメニューを開くことができず、パーティ管理や装備変更、魔術・祈祷・アイテムの使用ができない重大な機能欠落。
ダンジョン探索中にキャラクターの詳細確認、装備の変更、回復アイテムの使用などの基本的な操作ができないため、ゲームプレイに深刻な影響を与えている。

## 必要な機能
- ダンジョン内でメニューを開く機能（キーボードショートカット対応）
- パーティメンバーの詳細情報表示
- 装備の変更機能
- 魔術（スペル）の使用
- 祈祷（プリースト呪文）の使用
- アイテムの使用（回復アイテム、特殊アイテムなど）
- ステータス確認機能

## Tasks

- [ ] ダンジョン内メニューのUI設計とレイアウト作成
- [ ] DungeonMenuWindowクラスの実装
- [ ] メニュー呼び出しのキーバインド実装（ESCキーまたは専用キー）
- [ ] パーティメンバー詳細表示パネルの実装
- [ ] 装備変更インターフェースの実装
- [ ] 魔術・祈祷使用インターフェースの実装
- [ ] アイテム使用インターフェースの実装
- [ ] メニュー内でのナビゲーション機能実装
- [ ] ダンジョン探索状態の一時停止処理実装
- [ ] メニュー終了時の探索再開処理実装
- [ ] DungeonUIManagerへの統合
- [ ] キーボード・マウス両対応の操作実装
- [ ] Run tests before closing and pass all tests (No exceptions)
- [ ] Get developer approval before closing

## Notes

- 優先度1（Critical）：ダンジョン内でのパーティ管理ができないことは、ゲームの基本機能が欠落していることを意味する
- Wizardryなどのクラシックダンジョンクローラーでは、ダンジョン内メニューは必須機能
- メニュー表示中はゲーム時間を一時停止し、プレイヤーが落ち着いて操作できるようにする
- 地上部のメニューシステムを参考にしつつ、ダンジョン特有の制約（戦闘中は開けないなど）を考慮する必要がある
