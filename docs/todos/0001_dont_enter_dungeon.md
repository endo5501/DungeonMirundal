# 現象

ダンジョン選択画面からダンジョンに入れない

# 再現方法

[ダンジョン入口]-"メインダンジョン-Normal(Mixed)"を[選択]
→何も起きない

# その他

"ダンジョン選択"ウィンドウには、以下が一覧に表示されている
* "メインダンジョン-Normal(Mixed)"
* ダンジョン新規作成
* ダンジョン破棄
* 戻る

この一覧は、生成されたダンジョンを表示するものなので、"メインダンジョン-Normal(Mixed)"以外はおかしい。
別途、メニューで選択出来るようにするべき

# 調査結果と根本原因

## 問題1: 不適切なメニュー構造
- ダンジョン選択画面に管理機能（新規作成、破棄、戻る）が混在していた
- 修正: 生成済みダンジョンのみを表示するように変更

## 問題2: CustomSelectionListでコールバックが実行されない（根本原因）
- `pygame_gui.UISelectionList.get_single_selection()`が選択されたテキストを返すが、インデックスを期待していた
- 修正: 選択されたテキストから対応するアイテムを逆引きする処理を追加

### 詳細な技術的問題
1. `get_single_selection()`が返す値: 期待値=インデックス(int), 実際=選択テキスト(str)
2. `get_selected_item()`で選択状態を正しく取得できず、コールバックが実行されない
3. UISelectionList選択イベント処理で、テキストからアイテムへの逆引きが必要

### 修正内容
- `src/ui/selection_list_ui.py`で選択状態を内部管理
- 選択イベント時にテキストからインデックスを逆引き
- `src/overworld/overworld_manager_pygame.py`でダンジョン選択メニューを簡素化

# TODO
1. ✅ 調査後、上記エラーを検知するテストを作成する
2. ✅ 修正する
3. ⏳ テストが成功することを確認する
4. ⏳ commitする