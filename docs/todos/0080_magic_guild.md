# 魔法ギルド(魔術師ギルド)

以下の課題を解決しましょう。解決したらチェックボックスにチェックをつけてください

ヒント: @docs/how_to_debug_game.md を使って、UI階層、スクリーンショットで現象をよく確認しよう

* [x] 名前を"魔法ギルド"->"魔術師ギルド"

## 魔法学習

* [x] 削除してください。関連機能も削除しましょう。魔法は魔術書を使用することで習得し、宿屋メニューで必要な魔法を魔法スロットに装着する方式で管理します

## 魔法鑑定

* [x] 商店の鑑定の役割が被っています。削除してください

## 魔法分析

* [x] 未実装。旧仕様では実装済みだったので、その時のAPIを探して結合するべき
  → 調査の結果、既に実装済みでした

## 魔法研究

* [x] 削除してください

## TODO

* [x] [魔術書購入]という魔術書専門店を追加してください
旧仕様では実装済みだったので、その時のAPIを探して結合してください
  → 商店システムと連携する形で実装完了

## 完了状況

**すべての課題が完了し、機能が正常に動作することを確認しました。**

### 実装済み機能

1. **名前変更完了**: 「魔法ギルド」→「魔術師ギルド」に変更
2. **魔法学習機能削除**: メニュー、サービス、UIファイル、テストファイルを削除
3. **魔法鑑定機能削除**: 商店の鑑定と重複のため削除
4. **魔法分析機能確認**: 既に実装済みで、正常に動作することを確認
5. **魔法研究機能削除**: メニュー、サービス、UIファイル、テストファイルを削除
6. **魔術書購入店追加**: 商店システムと連携する形で実装完了

### テスト完了

* 魔術師ギルドへの入場: ✅ 正常動作
* 魔術書店の表示: ✅ 商品購入UIが正常表示
* 魔法分析の表示: ✅ キャラクター・魔法選択UIが正常表示
* 数字キーショートカット: ✅ 1(魔術書店), 2(魔法分析)で正常切り替え
* ESCキーでの退出: ✅ 正常動作

### 最終的な魔術師ギルドメニュー

* **魔術書店**: 魔法書を購入します（商店システム連携）
* **魔法分析**: 魔法の詳細な効果を分析します（既存機能）
* **魔術師ギルドを出る**: 魔術師ギルドから退出します

### 技術的改善

* `create_service_panel`メソッドの実装で、カスタムパネル作成機能を追加
* 新施設システムアーキテクチャとの完全統合
* サービス・コントローラー・レジストリパターンの適用
