# Claude.md

## プロジェクト概要
Python製のクラシックなダンジョン探索RPGを作成する。CLIベースのLLMツール（Claude Code）でコーディングを支援し、将来的にはGUIベースで動作し、マルチプラットフォームで配布可能なゲームを目指す。日本語ベースだが、多言語化対応のためテキストはすべて外部ファイルとして管理する。

## ゲーム目的
ダンジョンを探索し、モンスターを倒しながら最奥のボスを撃破して報酬を得ること。

## 技術要件
- Python（PyGame）を使用
- テキストはハードコードせず外部ファイルで管理（JSON, YAML など）
- オートセーブ対応 + 設定画面からの手動セーブ・ロード
- 地上パートとダンジョン探索パートに画面を分ける

---

## 地上部の機能

### 施設一覧
- **冒険者ギルド**：キャラ作成、パーティ編成、クラスチェンジ
- **宿屋**：アイテム保存/取り出し、魔術/祈祷の装備（スロット設定）
- **魔術師ギルド**：魔術習得（低レベル、購入制）
- **商店**：アイテム売買、未鑑定アイテムの鑑定
- **教会**：蘇生（DEAD/ASHES）、祈祷習得（低レベル、購入制）
- **ダンジョン入口**：ダンジョン選択/生成（ハッシュ値ベース）、アーカイブ

### その他ルール
- 地上に戻るとHP/魔術回数が全回復、状態異常（死亡/灰化以外）は全解除

---

## ダンジョン探索パート

### 基本仕様
- ハッシュ値に基づくランダム生成（構造・難易度・属性）
- 階層：3〜20階層
- 操作：WASD + コントローラー対応
- 視点：Wizardry風の3D簡易ビュー
- マップ保存/可視化対応（将来的に）

### イベント要素
- ランダムエンカウント（属性付きモンスター）
- 宝箱（罠あり、鍵開け必要）
- ダンジョンの属性：物理、炎、氷、雷
- 最奥ボス＋帰還ポータル＋レアアイテム

---

## キャラクター仕様

### パラメータ
- 種族、職業、LV、HP、力、素早さ、知恵、信仰心、運、性格

### 種族（外部ファイル管理）
- 人間、エルフ、ドワーフ、ホビット

### 職業（外部ファイル管理）
- 戦士、魔術師、僧侶、盗賊、司教、侍、君主、忍者

### パーティ構成
- 最大6人
- 前衛3、後衛3（位置による攻撃可否）

---

## 戦闘システム
- ターン制
- 属性：物理、炎、氷、雷（防御力に依存）
- モンスター側も前衛/後衛あり

---

## 魔術・祈祷（外部ファイル管理）
- スロット装備制（使用回数制限）
- 習得方法：
  - 魔術：魔術師ギルド（有償）＋アイテム
  - 祈祷：教会（有償）＋アイテム

---

## アイテムシステム

### 所持数・分類
- 各キャラ10個まで
- 外部ファイルで定義

### 種類
- **武器**：攻撃力増加、属性付き、攻撃距離あり
- **防具**：ダメージ軽減、属性付き
- **消費アイテム**：回復、状態回復、帰還、魔術/祈祷習得書

---

## モンスター
- 外部ファイルで管理
- 属性、防御、スキル、LV、難易度定義

---

## 画像/リソース
- グラフィックはIDベースで設定
- 表示時にファイル存在チェックして表示（差し替え対応）

---

## 今後の拡張性
- 多言語化（翻訳ファイルの差し替え）
- モジュール/コンポーネントの分離構造
- AIによる自動生成の柔軟対応（モンスター、マップ、セリフ等）


